<div class="main-body">
    <app-loader></app-loader>

    <div class="bg-white">
        <kendo-grid [data]="dataSource" [filterable]="true" [pageSize]="10" [pageable]="true"
            [selectable]="true" [groupable]="true" [group]="groups" (groupChange)="groupChange($event)" [resizable]="true">
            <ng-template kendoGridToolbarTemplate>
                <kendo-textbox [style.width.px]="165" placeholder="Search in all columns..."
                    (valueChange)="onFilter($event)"></kendo-textbox>
                <kendo-grid-spacer></kendo-grid-spacer>
                <button class="btn btn-info" kendoGridPDFCommand>Export to PDF</button>
                <button class="btn btn-dark" kendoGridExcelCommand type="button">Export to Excel</button>
            </ng-template>

            
            <kendo-grid-column field="client_data.full_name" title="Investor Name">

            </kendo-grid-column>
            <kendo-grid-column field="enq_form_data.investor_form_type" title="Investor Type">

            </kendo-grid-column>
            <kendo-grid-column field="order_id" title="Investor order number">

            </kendo-grid-column>
                  
                   
            <kendo-grid-column field="client_data.client_email" title="Investor Email"
                 >
            </kendo-grid-column>
                
            <kendo-grid-column field="prop_data.property_name" title="Property Name"
                [class]="{ 'text-center': true }" [resizable]="true">
                <ng-template kendoGridGroupHeaderTemplate let-group="group">
                    <span style="text-decoration: underline;">
                      {{ group.value }}
                    </span>
                  </ng-template>
            </kendo-grid-column>
            <kendo-grid-column field="transaction_type" title=" Transaction type">

            </kendo-grid-column>
            <kendo-grid-column field="investing_amount" title="Investment Amount">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.investing_amount | currency : 'USD' : 'symbol' : '1.0-0' }}
                </ng-template>
                
            </kendo-grid-column>
            <kendo-grid-column-group title="Unit" [class]="{ 'text-center': true }" >
            <kendo-grid-column field="units_acquired" title=" units acquired">
                
            </kendo-grid-column>
            <kendo-grid-column field="units_transferred" title="Units transferred"> 
                
            </kendo-grid-column>            
            <kendo-grid-column field="units_balance" title="Units balance" [class]="{ 'text-center': true }"
            [resizable]="false">
           
           </kendo-grid-column>
        </kendo-grid-column-group>
        
          
            <kendo-grid-column field="amount_paid" title="amount paid"
                 >
                 <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.amount_paid | currency : 'USD' : 'symbol' : '1.0-0' }}
                </ng-template>
                <ng-template kendoGridGroupFooterTemplate  let-aggregates="aggregates">
                    <span>
                        Sum: {{aggregates.amount_paid.sum }}
                    </span>
            </ng-template>
            </kendo-grid-column>
           
            <kendo-grid-column field="amount_unpaid" title="Amount unpaid"
                [class]="{ 'text-center': true }" [resizable]="true">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.amount_unpaid | currency : 'USD' : 'symbol' : '1.0-0' }}
                </ng-template>
            </kendo-grid-column>
           
            <kendo-grid-pdf fileName="activeClient.pdf" [repeatHeaders]="true" [allPages]="true"></kendo-grid-pdf>
            <kendo-grid-excel fileName="activeClient.xlsx"></kendo-grid-excel>
        </kendo-grid>
    </div>
</div>